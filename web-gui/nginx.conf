# This is a simple server config for our frontend Nginx container.
server {
    # Listen on port 80, the port our ECS service exposes.
    listen 80;

    # The root directory where our static files live inside the container.
    root /usr/share/nginx/html;

    # If a request comes in for a directory, serve the index.html file.
    index index.html;

    # This is the "magic" for single-page applications. If a direct file
    # for the URL isn't found, fall back to serving index.html. This
    # allows your JavaScript router to handle the URL.
    location / {
        try_files $uri /index.html;
    }
}